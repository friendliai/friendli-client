# pf credential create gcs

## Usage

```bash
pf credential create gcs [OPTIONS]
```

## Summary

Creates a credential for Google Cloud Storage.

To use checkpoints in the Google Cloud Storage, you must create a
credential to access the GCS buckets.


:::tip
How to get a JSON file containing your GCP service account key for the `--service-account-key-file` option:

1. Go to Google Cloud Platform Console, and sign in.
2. Go to the **Service accounts** page.
3. Select the project with the bucket you want to use.
4. On the **Service accounts** page, click the email address of the service account whose keys you want to list.
5. Click **Keys**. The console should display a list of keys for your service account, including metadata for each key.
6. Click the **Add key** dropdown menu and select **Create new key**.
7. For **Key type**, select "JSON" and click **Create**, which downloads a JSON file with the following format. Use the path to that file for the `--service-account-key-file` option.

```json
{
    "type": "service_account",
    "project_id": "project-id",
    "private_key_id": "key-id",
    "private_key": "-----BEGIN PRIVATE KEY-----\nprivate-key\n-----END PRIVATE KEY-----\n",
    "client_email": "service-account-email",
    "client_id": "client-id",
    "auth_uri": "https://accounts.google.com/o/oauth2/auth",
    "token_uri": "https://accounts.google.com/o/oauth2/token",
    "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
    "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/service-account-email"
}
```
:::

:::info
You should have a proper IAM role to read objects in a bucket you want to use in PeriFlow. Please see the [GCS IAM role documentation](https://cloud.google.com/storage/docs/access-control/iam-roles).
:::

## Options

| Option | Type | Summary | Default | Required |
|--------|------|---------|---------|----------|
| **`--name`**, **`-n`** | TEXT | Name of the new credential. | - | ✅ |
| **`--service-account-key-file`** | FILENAME | [GCP] Path to GCP Service Account Key JSON file. Please refer to https://cloud.google.com/iam/docs/creating-managing-service-account-keys. | - | ✅ |
